<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OSRM Day Routes</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
    }
    #map {
      width: 100%;
      height: 100%;
    }
    .panel {
      position: absolute;
      z-index: 1000;
      background: rgba(255, 255, 255, 0.95);
      border: 1px solid #ccc;
      border-radius: 8px;
      box-shadow: 0 1px 8px rgba(0, 0, 0, 0.16);
      padding: 10px 12px;
      font-size: 12px;
      line-height: 1.35;
    }
    #summary {
      top: 14px;
      left: 14px;
      min-width: 260px;
      max-width: 420px;
    }
    #legend {
      left: 14px;
      bottom: 14px;
      min-width: 300px;
      max-width: 520px;
      max-height: 44vh;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <div id="summary" class="panel">
    <div><strong>Date:</strong> 2024-11-01</div>
    <div><strong>Total Distance:</strong> n/a</div>
    <div><strong>Total Duration:</strong> n/a</div>
    <div><strong>Routes:</strong> 3</div>
    <div><strong>Missing Coords:</strong> 1</div>
    <div><strong>Savers Locations:</strong> 7</div>
  </div>
  <div id="legend" class="panel">
    <div style="margin-bottom:8px;"><strong>Route Legend (Driver)</strong></div>
    <div style='margin-bottom:6px;'><span style='display:inline-block;width:12px;height:12px;background:#1f77b4;margin-right:6px;vertical-align:middle;'></span><strong>Domingos</strong> (stops 47, missing 0): n/a, n/a (OSRM fallback)</div><div style='margin-bottom:6px;'><span style='display:inline-block;width:12px;height:12px;background:#ff7f0e;margin-right:6px;vertical-align:middle;'></span><strong>Faybion</strong> (stops 34, missing 1): n/a, n/a (OSRM fallback)</div><div style='margin-bottom:6px;'><span style='display:inline-block;width:12px;height:12px;background:#2ca02c;margin-right:6px;vertical-align:middle;'></span><strong>Johnny</strong> (stops 43, missing 0): n/a, n/a (OSRM fallback)</div><div style='margin-top:8px;font-size:11px;color:#555;'>Missing coord rows (total): 1</div>
  </div>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script>
    const center = [41.55310500243903, -71.48725946829266];
    const routeSpecs = [{"driver": "Domingos", "color": "#1f77b4", "stops_total": 47, "missing_stops": 0, "distance_text": "n/a", "duration_text": "n/a", "route_points": [[41.8479111, -71.4150718], [41.820681, -71.41481], [41.8159295, -71.4225729], [41.726967, -71.55865], [41.7106437, -71.5580656], [41.6940625, -71.5365213], [41.6804104, -71.574538], [41.5218507, -71.7032863], [41.5259216, -71.7076161], [41.5223054, -71.7034943], [41.50226, -71.676999], [41.5031101, -71.6447365], [41.549776, -71.629301], [41.5229411, -71.6722535], [41.4750081, -71.7199379], [41.4138424, -71.7263433], [41.415069, -71.794074], [41.3823361, -71.8018579], [41.3704444, -71.8248103], [41.3400705, -71.8160016], [41.356037, -71.743723], [41.3542432, -71.7423747], [41.3452443, -71.7086779], [41.3534636, -71.6985445], [41.3855207, -71.6302372], [41.4125648, -71.4818641], [41.3901833, -71.5253902], [41.4050892, -71.5225464], [41.4174357, -71.5260131], [41.437425, -71.49727], [41.4262796, -71.4839144], [41.7157896, -71.2601247], [41.3953103, -71.4720182], [41.428669, -71.4700636], [41.4374331, -71.4595833], [41.4756117, -71.4412543], [41.47855, -71.444586], [41.4890278, -71.4375725], [41.4956128, -71.4458666], [41.5422087, -71.4379743], [41.5521135, -71.4446228], [41.5757205, -71.4505888], [41.5950031, -71.463297], [41.6220469, -71.4613477], [41.6339311, -71.4761198], [41.6461846, -71.4647967], [41.6583993, -71.4524198]], "stops": [{"lat": 41.8479111, "lon": -71.4150718, "stop": "1", "raw_address": "201 Branch Ave, Providence, RI 02904, USA", "osm_display_name": "201, Branch Avenue, Providence, Providence County, Rhode Island, 02904, United States"}, {"lat": 41.820681, "lon": -71.41481, "stop": "2", "raw_address": "1 Empire St, Providence, RI 02903, USA", "osm_display_name": "1, Empire Street, Downtown, Providence, Providence County, Rhode Island, 02903, United States"}, {"lat": 41.8159295, "lon": -71.4225729, "stop": "3", "raw_address": "41 Fricker St, Providence, RI 02903, USA", "osm_display_name": "Providence Career and Technical Academy, 41, Fricker Street, Providence, Providence County, Rhode Island, 02908, United States"}, {"lat": 41.726967, "lon": -71.55865, "stop": "4", "raw_address": "9 Red Oak Dr, Coventry, RI 02816, USA", "osm_display_name": "9, Red Oak Drive, Arkwright, Coventry, Kent County, Rhode Island, 02816, United States"}, {"lat": 41.7106437, "lon": -71.5580656, "stop": "5", "raw_address": "525 knotty oak rd, Coventry, 2816", "osm_display_name": "525, Knotty Oak Road, Anthony, Coventry, Kent County, Rhode Island, 02816, United States"}, {"lat": 41.6940625, "lon": -71.5365213, "stop": "6", "raw_address": "293 Pulaski St, Coventry, 02816-5378", "osm_display_name": "293, Pulaski Street, Quidnick, Anthony, Coventry, Kent County, Rhode Island, 02816, United States"}, {"lat": 41.6804104, "lon": -71.574538, "stop": "7", "raw_address": "341 South Main St, Coventry, 2816", "osm_display_name": "341, South Main Street, Washington, Tiogue, Coventry, Kent County, Rhode Island, 02816, United States"}, {"lat": 41.5218507, "lon": -71.7032863, "stop": "8", "raw_address": "293 Arcadia Rd, Richmond, RI 02832, USA", "osm_display_name": "Arcadia Road, Hope Valley, Hopkinton, South County, Rhode Island, 02898, United States"}, {"lat": 41.5259216, "lon": -71.7076161, "stop": "9", "raw_address": "27 Keith Drive, Hopkinton, 2832", "osm_display_name": "27, Keith Drive, Hopkinton, South County, Rhode Island, 02832, United States"}, {"lat": 41.5223054, "lon": -71.7034943, "stop": "10", "raw_address": "8 Frances Barber Dr, Hopkinton, 2832", "osm_display_name": "8, Francis Barber Drive, Hopkinton, South County, Rhode Island, 02832, United States"}, {"lat": 41.50226, "lon": -71.676999, "stop": "11", "raw_address": "1 Deerfield Drive, Richmond, 2898", "osm_display_name": "1, Deerfield Drive, Richmond, South County, Rhode Island, 02898, United States"}, {"lat": 41.5031101, "lon": -71.6447365, "stop": "12", "raw_address": "18 Hillsdale Rd, Richmond, RI 02892, USA", "osm_display_name": "18, Hillsdale Road, Hillsdale, Richmond, South County, Rhode Island, 02892, United States"}, {"lat": 41.549776, "lon": -71.629301, "stop": "13", "raw_address": "9 Morning Rd, Richmond, 2892", "osm_display_name": "9, Morning Road, Richmond, South County, Rhode Island, 02892, United States"}, {"lat": 41.5229411, "lon": -71.6722535, "stop": "14", "raw_address": "51 Buttonwoods Rd, Wyoming, 2898", "osm_display_name": "51, Buttonwoods Road, Richmond, South County, Rhode Island, 02898, United States"}, {"lat": 41.4750081, "lon": -71.7199379, "stop": "15", "raw_address": "78 Cedarwood Ln, Hopkinton, 02832-2307", "osm_display_name": "78, Cedarwood Lane, Hopkinton, South County, Rhode Island, 02832, United States"}, {"lat": 41.4138424, "lon": -71.7263433, "stop": "16", "raw_address": "29 driftwood dr, Charlestown, 2813", "osm_display_name": "29, Driftwood Drive, Charlestown, South County, Rhode Island, 02813, United States"}, {"lat": 41.415069, "lon": -71.794074, "stop": "17", "raw_address": "20 MAXSON ST, Westerly, 2804", "osm_display_name": "20, Maxson Street, Ashaway, Hopkinton, South County, Rhode Island, 02804, United States"}, {"lat": 41.3823361, "lon": -71.8018579, "stop": "18", "raw_address": "39 Harry Hirsch Ln, Westerly, 2891", "osm_display_name": "Town Landfill Road, Westerly, South County, Rhode Island, 29644, United States"}, {"lat": 41.3704444, "lon": -71.8248103, "stop": "19", "raw_address": "31 george st, Westerly, 2891", "osm_display_name": "31, George Street, Westerly, South County, Rhode Island, 02891, United States"}, {"lat": 41.3400705, "lon": -71.8160016, "stop": "20", "raw_address": "189 Winnapaug Rd, Westerly, 2891", "osm_display_name": "189, Winnapaug Road, Misquamicut, Westerly, South County, Rhode Island, 02891, United States"}, {"lat": 41.356037, "lon": -71.743723, "stop": "21", "raw_address": "1 Nest Drive, Westerly, 2891", "osm_display_name": "1, Nest Drive, Westerly, South County, Rhode Island, 02891, United States"}, {"lat": 41.3542432, "lon": -71.7423747, "stop": "22", "raw_address": "19 Sparrow Dr, Westerly, 2891", "osm_display_name": "19, Sparrow Drive, Westerly, South County, Rhode Island, 02891, United States"}, {"lat": 41.3452443, "lon": -71.7086779, "stop": "23", "raw_address": "338 W. Beach Road, Charlestown, 2813", "osm_display_name": "338, West Beach Road, Quonochontaug, Charlestown, South County, Rhode Island, 02813, United States"}, {"lat": 41.3534636, "lon": -71.6985445, "stop": "24", "raw_address": "25 wells lane, Charlestown, 2813", "osm_display_name": "25, Wells Lane, Charlestown, South County, Rhode Island, 02813, United States"}, {"lat": 41.3855207, "lon": -71.6302372, "stop": "25", "raw_address": "4150 Old Post Rd, Charlestown, 2813", "osm_display_name": "4150, Old Post Road, Fort Ninigret, Charlestown, South County, Rhode Island, 02813, United States"}, {"lat": 41.4125648, "lon": -71.4818641, "stop": "26", "raw_address": "49 foddering farm rd, Narragansett, 2882", "osm_display_name": "49, Foddering Farm Road, Narragansett, South County, Rhode Island, 02882, United States"}, {"lat": 41.3901833, "lon": -71.5253902, "stop": "27", "raw_address": "85 Bliss Road, South Kingstown, 2879", "osm_display_name": "85, Bliss Road, Snug Harbor, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.4050892, "lon": -71.5225464, "stop": "28", "raw_address": "81 Bayfield Drive, South Kingstown, 2879", "osm_display_name": "81, Bayfield Drive, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.4174357, "lon": -71.5260131, "stop": "29", "raw_address": "770 Post Road, South Kingstown, 2879", "osm_display_name": "770, Post Road, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.437425, "lon": -71.49727, "stop": "30", "raw_address": "113 Orchard Ave, South Kingstown, 2879", "osm_display_name": "113, Orchard Avenue, Wakefield, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.4262796, "lon": -71.4839144, "stop": "31", "raw_address": "11 Spinnaker Court, Narragansett, 2882", "osm_display_name": "11, Spinnaker Court, Narragansett, South County, Rhode Island, 02882, United States"}, {"lat": 41.7157896, "lon": -71.2601247, "stop": "32", "raw_address": "170 Clark Road, Narragansett, 2882", "osm_display_name": "170, Clark Road, Laurel Park, Warren, Bristol County, Rhode Island, 02885, United States"}, {"lat": 41.3953103, "lon": -71.4720182, "stop": "33", "raw_address": "59 middle rd, Narragansett, 2882", "osm_display_name": "59, Middle Road, Narragansett, South County, Rhode Island, 02882, United States"}, {"lat": 41.428669, "lon": -71.4700636, "stop": "34", "raw_address": "235 South Pier Road, Narragansett, 2882", "osm_display_name": "Narragansett Pier School, 235, South Pier Road, Narragansett Pier, Narragansett, South County, Rhode Island, 02882, United States"}, {"lat": 41.4374331, "lon": -71.4595833, "stop": "35", "raw_address": "47 Canonchet Way, Narragansett, 2882", "osm_display_name": "47, Canonchet Way, Narragansett Beach, Narragansett Pier, Narragansett, South County, Rhode Island, 02882, United States"}, {"lat": 41.4756117, "lon": -71.4412543, "stop": "36", "raw_address": "29 BEECH RD, Narragansett, 02882-2517", "osm_display_name": "29, Beech Road, Narragansett, South County, Rhode Island, 02882, United States"}, {"lat": 41.47855, "lon": -71.444586, "stop": "37", "raw_address": "99 Old Pine Road, Narragansett, 2882", "osm_display_name": "99, Old Pine Road, Narragansett, South County, Rhode Island, 02882, United States"}, {"lat": 41.4890278, "lon": -71.4375725, "stop": "38", "raw_address": "1160 Boston Neck Road, Narragansett, 2882", "osm_display_name": "1160, Boston Neck Road, Narragansett, South County, Rhode Island, 02882, United States"}, {"lat": 41.4956128, "lon": -71.4458666, "stop": "39", "raw_address": "6 Columbia Rd, Narragansett, 2874", "osm_display_name": "6, Columbia Road, Pettaquamscutt Lake Shores, Narragansett, South County, Rhode Island, 02874, United States"}, {"lat": 41.5422087, "lon": -71.4379743, "stop": "40", "raw_address": "109 Oceanwoods Dr, North Kingstown, RI 02852, USA", "osm_display_name": "109, Oceanwoods Drive, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.5521135, "lon": -71.4446228, "stop": "41", "raw_address": "35 glendale circle, North Kingstown, 2852", "osm_display_name": "35, Glendale Circle, Annaquatucket, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.5757205, "lon": -71.4505888, "stop": "42", "raw_address": "21 Esmond ave, North kingstown, 2852", "osm_display_name": "21, Esmond Avenue, Wickford, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.5950031, "lon": -71.463297, "stop": "43", "raw_address": "220 SEAWYNDS DR, NORTH KINGSTOWN, 2852", "osm_display_name": "220, Seawynds Drive, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6220469, "lon": -71.4613477, "stop": "44", "raw_address": "74 school st, North Kingstown, 2852", "osm_display_name": "74, School Street, Davisville, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6339311, "lon": -71.4761198, "stop": "45", "raw_address": "95 jefferson dr, East Greenwich, 2818", "osm_display_name": "95, Jefferson Drive, River Farm, East Greenwich, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.6461846, "lon": -71.4647967, "stop": "46", "raw_address": "161 Overfield rd., East Greenwich, 2818", "osm_display_name": "161, Overfield Road, East Greenwich, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.6583993, "lon": -71.4524198, "stop": "47", "raw_address": "51 Liberty St, East Greenwich, 2818", "osm_display_name": "51, Liberty Street, East Greenwich, Kent County, Rhode Island, 02818, United States"}], "first_stop": [41.8479111, -71.4150718], "last_stop": [41.6583993, -71.4524198], "osrm_error": "OSRM connection failed to http://localhost:5000"}, {"driver": "Faybion", "color": "#ff7f0e", "stops_total": 34, "missing_stops": 1, "distance_text": "n/a", "duration_text": "n/a", "route_points": [[41.6761125, -70.9438334], [41.5231613, -71.29558], [41.4954415, -71.2850934], [41.4949536, -71.2783828], [41.471202, -71.3004917], [41.4720617, -71.314311], [41.475079, -71.3178322], [41.4828, -71.310518], [41.493324, -71.311622], [41.496411, -71.303043], [41.5051712, -71.3176083], [41.5020387, -71.3110026], [41.5039669, -71.306929], [41.516164, -71.3077007], [41.5126457, -71.3131857], [41.5041108, -71.314966], [41.4974463, -71.3714883], [41.4932788, -71.367854], [41.4871726, -71.3935414], [41.5640417, -71.3632593], [41.5242462, -71.3839833], [41.5216834, -71.3847271], [41.5340159, -71.4382939], [41.6097538, -71.450797], [41.6109722, -71.4416965], [41.6128875, -71.4426352], [41.6310966, -71.4194419], [41.6345137, -71.4095979], [41.6388886, -71.4582725], [41.63361, -71.4465269], [41.6441496, -71.4558164], [41.6456525, -71.4558917], [41.7788038, -71.4803857]], "stops": [{"lat": 41.6761125, "lon": -70.9438334, "stop": "1", "raw_address": "1014 Kings Hwy, New Bedford, MA 02745, USA", "osm_display_name": "1014, Kings Highway, New Bedford, Bristol County, Massachusetts, 02745, United States"}, {"lat": 41.5231613, "lon": -71.29558, "stop": "2", "raw_address": "19 valley rd, middletown, 2842", "osm_display_name": "19, Valley Road, Middletown, Newport County, Rhode Island, 02842, United States"}, {"lat": 41.4954415, "lon": -71.2850934, "stop": "3", "raw_address": "792 Valley Rd, Middletown, RI 02842, USA", "osm_display_name": "792, Valley Road, Middletown, Newport County, Rhode Island, 02842, United States"}, {"lat": 41.4949536, "lon": -71.2783828, "stop": "4", "raw_address": "181 Newport Ave, Middletown, 2842", "osm_display_name": "181, Newport Avenue, Middletown, Newport County, Rhode Island, 02842, United States"}, {"lat": 41.471202, "lon": -71.3004917, "stop": "5", "raw_address": "100 Ochre Point Ave, Newport, 2840", "osm_display_name": "Salve Regina University, 100, Ochre Point Avenue, Newport, Newport County, Rhode Island, 02840, United States"}, {"lat": 41.4720617, "lon": -71.314311, "stop": "6", "raw_address": "16 Carroll Ave, Newport, 2840", "osm_display_name": "16, Carroll Avenue, Newport, Newport County, Rhode Island, 02840, United States"}, {"lat": 41.475079, "lon": -71.3178322, "stop": "7", "raw_address": "51 Houston Ave, Newport, 2840", "osm_display_name": "51, Houston Avenue, Newport, Newport County, Rhode Island, 02840, United States"}, {"lat": 41.4828, "lon": -71.310518, "stop": "8", "raw_address": "35 King ST, Newport, 2840", "osm_display_name": "35, King Street, Newport, Newport County, Rhode Island, 02840, United States"}, {"lat": 41.493324, "lon": -71.311622, "stop": "9", "raw_address": "50 Dr. Marcus Wheatland Blvd, Newport, 2840", "osm_display_name": "50, Dr Marcus Wheatland Boulevard, Newport, Newport County, Rhode Island, 02840, United States"}, {"lat": 41.496411, "lon": -71.303043, "stop": "10", "raw_address": "124 Gibbs Ave, Newport, 2840", "osm_display_name": "124, Gibbs Avenue, Newport, Newport County, Rhode Island, 02840, United States"}, {"lat": 41.5051712, "lon": -71.3176083, "stop": "11", "raw_address": "17 JT CONNELL HWY, NEWPORT, 2840", "osm_display_name": "JT Connell Highway, Newport, Newport County, Rhode Island, 02840, United States"}, {"lat": 41.5020387, "lon": -71.3110026, "stop": "12", "raw_address": "40 Sheffield Ave, Newport, 2840", "osm_display_name": "40, Sheffield Avenue, Newport, Newport County, Rhode Island, 02840, United States"}, {"lat": 41.5039669, "lon": -71.306929, "stop": "13", "raw_address": "14 Burdick Avenue, Newport, 2840", "osm_display_name": "14, Burdick Avenue, Newport, Newport County, Rhode Island, 02840, United States"}, {"lat": 41.516164, "lon": -71.3077007, "stop": "14", "raw_address": "187 MAPLE AVE, Middletown, 2842", "osm_display_name": "187, Maple Avenue, Middletown, Newport County, Rhode Island, 02842, United States"}, {"lat": 41.5126457, "lon": -71.3131857, "stop": "15", "raw_address": "87 Girard Ave, Newport, 2840", "osm_display_name": "87, Girard Avenue, Newport, Newport County, Rhode Island, 02840, United States"}, {"lat": 41.5041108, "lon": -71.314966, "stop": "16", "raw_address": "80 Halsey St, Newport, 2840", "osm_display_name": "80, Halsey Street, Newport, Newport County, Rhode Island, 02840, United States"}, {"lat": 41.4974463, "lon": -71.3714883, "stop": "17", "raw_address": "17 Grinnell Street, Jamestown, 2835", "osm_display_name": "17, Grinnell Street, Jamestown, Newport County, Rhode Island, 02835, United States"}, {"lat": 41.4932788, "lon": -71.367854, "stop": "18", "raw_address": "2 Old Walcott Ave, Jamestown, RI 02835, USA", "osm_display_name": "2, Old Walcott Avenue, Jamestown, Newport County, Rhode Island, 02835, United States"}, {"lat": 41.4871726, "lon": -71.3935414, "stop": "19", "raw_address": "1003 Fort Getty Road, Jamestown, 2835", "osm_display_name": "1003, Fort Getty Road, Jamestown, Newport County, Rhode Island, 02835, United States"}, {"lat": 41.5640417, "lon": -71.3632593, "stop": "21", "raw_address": "86 orient ave, Jamestown, 2835", "osm_display_name": "86, Orient Avenue, Conanicut Park, Jamestown, Newport County, Rhode Island, 02835, United States"}, {"lat": 41.5242462, "lon": -71.3839833, "stop": "22", "raw_address": "11 STERN ST, Jamestown, 2835", "osm_display_name": "11, Stern Street, Jamestown, Newport County, Rhode Island, 02835, United States"}, {"lat": 41.5216834, "lon": -71.3847271, "stop": "23", "raw_address": "19 BOOM ST, JAMESTOWN, 2835", "osm_display_name": "19, Boom Street, Jamestown, Newport County, Rhode Island, 02835, United States"}, {"lat": 41.5340159, "lon": -71.4382939, "stop": "24", "raw_address": "145 Gilbert Stuart Rd, North Kingstown, 2874", "osm_display_name": "145, Gilbert Stuart Road, North Kingstown, South County, Rhode Island, 02874, United States"}, {"lat": 41.6097538, "lon": -71.450797, "stop": "25", "raw_address": "151 Knollwood Circle, North Kingstown, 2852", "osm_display_name": "151, Knollwood Circle, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6109722, "lon": -71.4416965, "stop": "26", "raw_address": "76 Jerry Lane, North Kingstown, 2852", "osm_display_name": "76, Jerry Lane, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6128875, "lon": -71.4426352, "stop": "27", "raw_address": "49 Gladys Drive, North Kingstown, 2852", "osm_display_name": "49, Gladys Drive, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6310966, "lon": -71.4194419, "stop": "28", "raw_address": "212 wilbert way, north kingstown, 2852", "osm_display_name": "212, Wilbert Way, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6345137, "lon": -71.4095979, "stop": "29", "raw_address": "73 Floral Ave, North Kingstown, 2852", "osm_display_name": "73, Floral Avenue, Mount View, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6388886, "lon": -71.4582725, "stop": "30", "raw_address": "100 longfellow dr, north kingstown, 2852", "osm_display_name": "100, Longfellow Drive, Potowomut, Warwick, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.63361, "lon": -71.4465269, "stop": "31", "raw_address": "20 Cranberry Lane, North Kingstown, 2852", "osm_display_name": "20, Cranberry Lane, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6441496, "lon": -71.4558164, "stop": "32", "raw_address": "12 WEEDEN DR, East Greenwich, 2818", "osm_display_name": "12, Weeden Drive, Potowomut, Warwick, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.6456525, "lon": -71.4558917, "stop": "33", "raw_address": "30 Sheryl Cir, East Greenwich, 2818", "osm_display_name": "30, Sheryl Circle, Potowomut, Warwick, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.7788038, "lon": -71.4803857, "stop": "34", "raw_address": "125 Scituate Ave, Cranston, RI 02921, USA", "osm_display_name": "125, Scituate Avenue, Cranston, Providence County, Rhode Island, 02921, United States"}], "first_stop": [41.6761125, -70.9438334], "last_stop": [41.7788038, -71.4803857], "osrm_error": "OSRM connection failed to http://localhost:5000"}, {"driver": "Johnny", "color": "#2ca02c", "stops_total": 43, "missing_stops": 0, "distance_text": "n/a", "duration_text": "n/a", "route_points": [[41.822252, -71.3569438], [41.8700446, -71.5276516], [41.8746159, -71.5333895], [41.6605845, -71.5201239], [41.6377224, -71.535893], [41.6314865, -71.5239776], [41.6123968, -71.5420745], [41.5947564, -71.505759], [41.5980587, -71.499745], [41.6010257, -71.4997483], [41.586015, -71.4951779], [41.5763733, -71.5079273], [41.569963, -71.5123629], [41.5733495, -71.5047429], [41.6610804, -71.4974242], [41.4957748, -71.5888557], [41.4424931, -71.630992], [41.4160823, -71.5967833], [41.6981624, -71.5683945], [41.423569, -71.586492], [41.4564681, -71.5047365], [41.4626011, -71.5285063], [41.4651171, -71.5323739], [41.476396, -71.5210699], [41.4658553, -71.5181554], [41.450577, -71.486269], [41.4694981, -71.4951539], [41.5106599, -71.4974415], [41.5373989, -71.4597986], [41.5563256, -71.4419566], [41.5656614, -71.4444146], [41.5765003, -71.4603029], [41.5765326, -71.4552676], [41.5902535, -71.4580611], [41.5946226, -71.4452753], [41.6088577, -71.4685942], [41.613781, -71.4724239], [41.6348086, -71.4918978], [41.6461558, -71.4915845], [41.6632864, -71.4945168], [41.727845, -71.534169], [41.7239469, -71.4699137], [41.759464, -71.486531]], "stops": [{"lat": 41.822252, "lon": -71.3569438, "stop": "1", "raw_address": "1925 Pawtucket Ave, East Providence, RI 02914, USA", "osm_display_name": "Davenport&#x27;s Bar and Grille, 1925, Pawtucket Avenue, Carpenters Corner, East Providence, Providence County, Rhode Island, 02914, United States"}, {"lat": 41.8700446, "lon": -71.5276516, "stop": "2", "raw_address": "400 Putnam Pike, Smithfield, 2917", "osm_display_name": "400, Putnam Pike, Smithfield, Providence County, Rhode Island, 02917, United States"}, {"lat": 41.8746159, "lon": -71.5333895, "stop": "3", "raw_address": "22 Cedar Swamp Rd, Smithfield, 2917", "osm_display_name": "22, Cedar Swamp Road, Greenville, Smithfield, Providence County, Rhode Island, 02917, United States"}, {"lat": 41.6605845, "lon": -71.5201239, "stop": "4", "raw_address": "140 Watch Hill Drive, East Greenwich, 2818", "osm_display_name": "140, Watch Hill Drive, Signal Ridge, East Greenwich, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.6377224, "lon": -71.535893, "stop": "5", "raw_address": "10 Romano Court, East Greenwich, 2818", "osm_display_name": "10, Romano Court, The Woods at East Greenwich, East Greenwich, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.6314865, "lon": -71.5239776, "stop": "6", "raw_address": "45 Deerfield Drive, East Greenwich, 02818-1331", "osm_display_name": "45, Deerfield Drive, East Greenwich, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.6123968, "lon": -71.5420745, "stop": "7", "raw_address": "1 Foster Way, East Greenwich, 2818", "osm_display_name": "1, Foster Way, East Greenwich, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.5947564, "lon": -71.505759, "stop": "8", "raw_address": "1388 Stony Lane, North Kingstown, 2852", "osm_display_name": "1388, Stony Lane, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.5980587, "lon": -71.499745, "stop": "9", "raw_address": "151 Delano Drive, North Kingstown, 2852", "osm_display_name": "151, Delano Drive, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6010257, "lon": -71.4997483, "stop": "10", "raw_address": "29 club circle, North Kingstown, 2852", "osm_display_name": "29, Club Circle, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.586015, "lon": -71.4951779, "stop": "11", "raw_address": "94 Grant Drive, North Kingstown, 2852", "osm_display_name": "94, Grant Drive, Wickford Junction, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.5763733, "lon": -71.5079273, "stop": "12", "raw_address": "30 Aspen court, North Kingstown, 2852", "osm_display_name": "30, Aspen Court, Wickford Junction, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.569963, "lon": -71.5123629, "stop": "13", "raw_address": "20 sugar hill court, North Kingstown, 2852", "osm_display_name": "20, Sugar Hill Court, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.5733495, "lon": -71.5047429, "stop": "14", "raw_address": "34 Collins Ct, North Kingstown, 2852", "osm_display_name": "34, Collins Court, Wickford Junction, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6610804, "lon": -71.4974242, "stop": "15", "raw_address": "730 S County Trail, North Kingstown, 2852", "osm_display_name": "730, South County Trail, East Greenwich, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.4957748, "lon": -71.5888557, "stop": "16", "raw_address": "93 FAIRVIEW DR, South Kingstown, 02892-1964", "osm_display_name": "93, Fairview Drive, South Kingstown, South County, Rhode Island, 02892, United States"}, {"lat": 41.4424931, "lon": -71.630992, "stop": "17", "raw_address": "4080 South County Trail, Charlestown, RI, 2813, USA", "osm_display_name": "4080, South County Trail, Columbia Heights, Charlestown, South County, Rhode Island, 02813, United States"}, {"lat": 41.4160823, "lon": -71.5967833, "stop": "18", "raw_address": "10 Driver Lane, South Kingstown, 2879", "osm_display_name": "10, Driver Lane, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.6981624, "lon": -71.5683945, "stop": "19", "raw_address": "94 Birdie Court, South Kingstown, 2879", "osm_display_name": "94, Birdie Court, Coventry, Kent County, Rhode Island, 02816, United States"}, {"lat": 41.423569, "lon": -71.586492, "stop": "20", "raw_address": "271 LEISURE DR, South Kingstown, 2879", "osm_display_name": "271, Leisure Drive, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.4564681, "lon": -71.5047365, "stop": "21", "raw_address": "106 Rocky Brook Way, South Kingstown, 2879", "osm_display_name": "106, Rocky Brook Way, Rocky Brook, Peacedale, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.4626011, "lon": -71.5285063, "stop": "22", "raw_address": "690 Chestnut Hill Rd, South Kingstown, 2879", "osm_display_name": "690, Chestnut Hill Road, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.4651171, "lon": -71.5323739, "stop": "23", "raw_address": "24 Dovetail Lane, South Kingstown, 2879", "osm_display_name": "24, Dovetail Lane, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.476396, "lon": -71.5210699, "stop": "24", "raw_address": "108 Browns Farm Drive, South Kingstown, 2881", "osm_display_name": "108, Browns Farm Drive, Kingston, South Kingstown, South County, Rhode Island, 02881, United States"}, {"lat": 41.4658553, "lon": -71.5181554, "stop": "25", "raw_address": "227 greenwood dr, South Kingstown, 2879", "osm_display_name": "227, Greenwood Drive, Kingston, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.450577, "lon": -71.486269, "stop": "26", "raw_address": "165 Broad Rock Rd, South Kingstown, 2879", "osm_display_name": "165, Broad Rock Road, Mooresfield, Peacedale, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.4694981, "lon": -71.4951539, "stop": "27", "raw_address": "163 Rose Hill Rd, South Kingstown, 2879", "osm_display_name": "163, Rose Hill Road, South Kingstown, South County, Rhode Island, 02879, United States"}, {"lat": 41.5106599, "lon": -71.4974415, "stop": "28", "raw_address": "53 Macintosh Lane, North Kingstown, 2874", "osm_display_name": "53, Macintosh Lane, North Kingstown, South County, Rhode Island, 02874, United States"}, {"lat": 41.5373989, "lon": -71.4597986, "stop": "29", "raw_address": "52 country hill lane, North Kingstown, 2852", "osm_display_name": "52, Country Hill Lane, North Kingstown, South County, Rhode Island, 02874, United States"}, {"lat": 41.5563256, "lon": -71.4419566, "stop": "30", "raw_address": "540 Boston Neck rd, North Kingstown, 2852", "osm_display_name": "540, Boston Neck Road, Cold Spring Beach, Wickford, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.5656614, "lon": -71.4444146, "stop": "31", "raw_address": "36 Beach Street, North Kingston, 2852", "osm_display_name": "Wickford Art Association Gallery, 36, Beach Street, Cold Spring Beach, Wickford, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.5765003, "lon": -71.4603029, "stop": "32", "raw_address": "8150 Post Road, North Kingston, 2852", "osm_display_name": "North Kingstown Fire Department Station 1, 8150, Post Road, Wickford, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.5765326, "lon": -71.4552676, "stop": "33", "raw_address": "45 N cove circle, North Kingstown, 2852", "osm_display_name": "North Cove Circle., Wickford, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.5902535, "lon": -71.4580611, "stop": "34", "raw_address": "51 Trowbridge Drive, North Kingstown, 2852", "osm_display_name": "Trowbridge Drive, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.5946226, "lon": -71.4452753, "stop": "35", "raw_address": "65 asqah dr, North Kingstown, 2852", "osm_display_name": "65, Asqah Drive, Asqah Cooperative, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6088577, "lon": -71.4685942, "stop": "36", "raw_address": "345 Devils Foot Road, North Kingston, 2852", "osm_display_name": "345, Devils Foot Road, Davisville, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.613781, "lon": -71.4724239, "stop": "37", "raw_address": "520 School Street, North Kingstown, 2852", "osm_display_name": "520, School Street, Davisville, North Kingstown, South County, Rhode Island, 02852, United States"}, {"lat": 41.6348086, "lon": -71.4918978, "stop": "38", "raw_address": "2240 South County Trail, East Greenwich, 2818", "osm_display_name": "2240, South County Trail, East Greenwich, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.6461558, "lon": -71.4915845, "stop": "39", "raw_address": "119 PINE GLEN DR, East Greenwich, 2818", "osm_display_name": "119, Pine Glen Drive, Pine Glen, East Greenwich, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.6632864, "lon": -71.4945168, "stop": "40", "raw_address": "1200 Quaker Ln, East Greenwich, RI 02818, USA", "osm_display_name": "Chipotle, 1200, Quaker Lane, East Greenwich, Kent County, Rhode Island, 02818, United States"}, {"lat": 41.727845, "lon": -71.534169, "stop": "41", "raw_address": "99 Pierce St, East Greenwich, 2818", "osm_display_name": "99, Pierce Street, West Warwick, Kent County, Rhode Island, 02893, United States"}, {"lat": 41.7239469, "lon": -71.4699137, "stop": "42", "raw_address": "389 Greenwich Ave, Warwick, 2886", "osm_display_name": "389, Greenwich Avenue, Warwick, Kent County, Rhode Island, 02886, United States"}, {"lat": 41.759464, "lon": -71.486531, "stop": "43", "raw_address": "900 Phenix Ave, Cranston, 2921", "osm_display_name": "900, Phenix Avenue, Cranston, Providence County, Rhode Island, 02921, United States"}], "first_stop": [41.822252, -71.3569438], "last_stop": [41.759464, -71.486531], "osrm_error": "OSRM connection failed to http://localhost:5000"}];
    const saversPoints = [{"lat": 41.70142361406466, "lon": -71.49622935849673, "address": "24 Universal Blvd, Warwick, RI 02886"}, {"lat": 41.847375324977705, "lon": -71.41240583119033, "address": "201 Branch Ave, Providence, RI 02904"}, {"lat": 41.676587611969445, "lon": -71.16447284264083, "address": "109 Mariano Bishop Blvd, Fall River, MA 02721"}, {"lat": 41.823419466068685, "lon": -71.3578806685053, "address": "1925 Pawtucket Ave, East Providence, RI 02914"}, {"lat": 41.93717861460553, "lon": -71.35158547209568, "address": "1385 S Washington St, North Attleborough, MA 02760"}, {"lat": 41.67611733360954, "lon": -70.94111882728663, "address": "1014 Kings Hwy, New Bedford, MA 02745"}, {"lat": 42.01669053076259, "lon": -71.4775488238762, "address": "1500 Diamond Hill Rd, Woonsocket, RI 02895"}];

    function firstStopIcon(color) {
      return L.divIcon({
        className: '',
        iconSize: [22, 22],
        iconAnchor: [11, 11],
        html: '<div style="width:22px;height:22px;border-radius:50%;background:' + color + ';color:#fff;font-weight:700;display:flex;align-items:center;justify-content:center;border:2px solid #fff;box-shadow:0 0 0 1px ' + color + ';font-size:12px;">1</div>'
      });
    }

    function lastStopIcon(color) {
      return L.divIcon({
        className: '',
        iconSize: [22, 22],
        iconAnchor: [11, 11],
        html: '<div style="width:22px;height:22px;border-radius:50%;background:#fff;border:2px solid ' + color + ';display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 1px ' + color + ';"><div style="width:10px;height:10px;background:' + color + ';"></div></div>'
      });
    }

    function saversIcon() {
      return L.divIcon({
        className: '',
        iconSize: [24, 24],
        iconAnchor: [12, 12],
        html: '<div style="width:24px;height:24px;border-radius:50%;background:#d62728;color:#fff;font-weight:700;display:flex;align-items:center;justify-content:center;border:2px solid #fff;box-shadow:0 0 0 1px #b51f1f;font-size:13px;">S</div>'
      });
    }

    function stopDotIcon(color) {
      return L.divIcon({
        className: '',
        iconSize: [10, 10],
        iconAnchor: [5, 5],
        html: '<div style="width:10px;height:10px;border-radius:50%;background:' + color + ';display:flex;align-items:center;justify-content:center;"><div style="width:5.6px;height:5.6px;border-radius:50%;background:#000;"></div></div>'
      });
    }

    const map = L.map('map').setView(center, 10);
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    const bounds = [];

    for (const s of saversPoints) {
      L.marker([s.lat, s.lon], { icon: saversIcon() }).addTo(map).bindPopup(
        'Savers Drop-off<br>' + s.address
      );
      bounds.push([s.lat, s.lon]);
    }

    for (const route of routeSpecs) {
      if (route.route_points.length > 0) {
        for (const p of route.route_points) bounds.push(p);
      }

      if (route.route_points.length >= 2) {
        const baseLineStyle = {
          color: route.color,
          weight: 4,
          opacity: 0.9
        };
        const focusLineStyle = {
          color: route.color,
          weight: 7,
          opacity: 1.0
        };
        const line = L.polyline(route.route_points, baseLineStyle).addTo(map);
        line.on('mouseover', function() {
          this.setStyle(focusLineStyle);
          this.bringToFront();
        });
        line.on('mouseout', function() {
          this.setStyle(baseLineStyle);
        });
      }

      for (const stop of route.stops) {
        L.marker([stop.lat, stop.lon], {
          icon: stopDotIcon(route.color)
        }).addTo(map).bindPopup(
          route.driver + ' | Stop ' + stop.stop +
          '<br>Raw Address: ' + stop.raw_address +
          '<br>OSM Display Name: ' + stop.osm_display_name
        );
      }

      if (route.first_stop) {
        L.marker(route.first_stop, {
          icon: firstStopIcon(route.color)
        }).addTo(map).bindPopup(route.driver + ' | First stop');
        bounds.push(route.first_stop);
      }

      if (route.last_stop) {
        L.marker(route.last_stop, {
          icon: lastStopIcon(route.color)
        }).addTo(map).bindPopup(route.driver + ' | Last stop');
        bounds.push(route.last_stop);
      }
    }

    if (bounds.length > 0) {
      map.fitBounds(bounds, { padding: [24, 24] });
    }
  </script>
</body>
</html>
